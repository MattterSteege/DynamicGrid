<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="DynamicGrid.css">
    <link rel="stylesheet" href="https://fa.kronk.tech">
  <script src="DynamicGrid/DynamicGrid.js"></script>
  <script src="DynamicGrid/DynamicGridUI.js"></script>
  <script src="DynamicGrid/TypePlugin.js"></script>
  <script src="DynamicGrid/InherentTypePlugin.js"></script>
  <script src="DynamicGrid/SJQLEngine.js"></script>
  <script src="DynamicGrid/QueryParser.js"></script>
  <script src="DynamicGrid/DynamicGridUtils.js"></script>
  <script src="DynamicGrid/ContextMenu.js"></script>
<!--    <script src="/dist/DynamicGrid.js"></script>-->
</head>
<body>

<input type="file" id="file" accept=".csv, .json" onchange="handleFile(this.files[0])">
<input type="text" id="search" style="width: 50%;">
<button onclick="grid.render(document.getElementById('search').value)">Search</button>

<div id="gridContainer" style="width: 90vw; height: 90vh; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); border-radius: 10px;"></div>

<script>
    let grid = new DynamicGrid({
        headers: {
            id: 'number',
            guid: 'string',
            isActive: 'boolean',
            balance: 'number',
            age: 'number',
            name: 'string',
            gender: 'string',
            email: 'string'
        },
        ui: {
            containerId: '#gridContainer',
            rowHeight: 30,          // Height of each row in pixels
            visibleRows: 20,        // Number of rows to render at once
            overscan: 5,            // Additional rows to render above/below viewport
            minColumnWidth: 5,      // Minimum column width percentage
            autoFitCellWidth: 'none'
        },
        engine: {
            UseDataEnumeration: false,
            UseDataIndexing: true,
            StrictCase: false,
            //SymbolsToIgnore: [" ", "_", "-"],
        }
    });

    function handleFile(file) {
        const reader = new FileReader();
        reader.onload = function (e) {
            grid.importData(e.target.result, {type: file.type.split("/")[1], delimiter: ","});
            grid.render();
        }
        reader.readAsText(file);
    }

</script>

</body>
</html>